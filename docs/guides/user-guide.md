# 📖 AILMA 用户使用指南

完整的功能说明和使用技巧

---

## 核心功能

### 1. 日历管理

#### 创建事件

在 Notion Command Center 中输入自然语言指令：

| 指令示例 | 效果 |
|---------|------|
| "明天下午3点开会" | 创建明天 15:00 的会议 |
| "下周五午餐约会，在星巴克" | 创建下周五的午餐约会，地点星巴克 |
| "每周一早上9点站会" | 创建重复事件 |
| "明天全天休假" | 创建全天事件 |

#### 查询日程

| 指令示例 | 效果 |
|---------|------|
| "我明天有什么安排" | 查询明天的所有事件 |
| "下周的会议有哪些" | 查询下周的会议 |
| "本月的日程总结" | 生成月度日程报告 |

#### 修改事件

| 指令示例 | 效果 |
|---------|------|
| "把明天的会议改到后天" | 修改事件日期 |
| "会议延长1小时" | 修改事件时长 |
| "把地点改成会议室B" | 修改事件地点 |

#### 删除事件

| 指令示例 | 效果 |
|---------|------|
| "取消明天的会议" | 删除事件 |
| "删除周五的约会" | 删除特定事件 |

---

### 2. Notion 笔记管理

#### 创建页面

| 指令示例 | 效果 |
|---------|------|
| "记录今天的想法" | 创建新页面 |
| "创建项目笔记：新功能开发" | 创建带标题的页面 |

#### 创建待办

| 指令示例 | 效果 |
|---------|------|
| "添加待办：买菜、洗衣服、写代码" | 创建待办清单 |
| "创建任务：完成报告" | 创建单个任务 |

---

### 3. 智能报告生成

| 指令示例 | 效果 |
|---------|------|
| "生成本周工作总结" | 周报 |
| "总结上个月的日程" | 月报 |
| "项目进度报告" | 项目报告 |

---

## 时间表达式参考

### 相对时间

- 今天、明天、后天、大后天
- 本周、下周、这个月、下个月
- X天后、X周后

### 星期

- 周一、周二、...、周日
- 星期一、星期二、...、星期日
- 下周一、本周五

### 具体时间

- 早上、上午、中午、下午、傍晚、晚上
- X点、X点Y分
- 3点、15:30

### 持续时间

- 1小时、30分钟
- 半天、全天

---

## 高级技巧

### 1. 复杂指令

```
下周三下午2点在会议室A开产品评审会，
邀请张三(zhang@example.com)和李四(li@example.com)，
准备PPT和演示文稿
```

AILMA 会自动提取：
- 时间: 下周三 14:00
- 地点: 会议室A
- 标题: 产品评审会
- 参与者: 张三、李四
- 描述: 准备PPT和演示文稿

### 2. 批量操作

```
创建本周的站会：
周一到周五早上9点，每天30分钟
```

### 3. 条件查询

```
查找本月所有包含"客户"的会议
```

---

## 指令状态说明

| 状态 | 说明 |
|------|------|
| pending | 等待处理 |
| processing | 正在处理 |
| completed | 执行成功 |
| failed | 执行失败（查看 Error 列） |
| needs_clarification | 需要澄清（指令不明确） |

---

## 最佳实践

### 1. 指令清晰具体

✅ 好: "明天下午3点在会议室A开产品会议"
❌ 差: "明天开会"

### 2. 包含关键信息

对于日历事件，至少包含：
- 时间
- 标题

其他信息（地点、参与者、描述）可选

### 3. 一次一个任务

✅ 好: "创建明天的会议"
❌ 差: "创建明天的会议，还要生成本周总结"

可以分两条指令：
1. "创建明天下午3点的会议"
2. "生成本周工作总结"

---

## 故障排查

### 指令一直是 pending 状态

- 检查 AILMA 服务是否运行: `curl http://localhost:8000/health`
- 检查 Listener 是否启动: 查看 `listener_active` 字段

### Status 变成 needs_clarification

- 指令不够明确，需要补充信息
- 查看 Result 列的提示
- 修改指令后重新提交

### Status 变成 failed

- 查看 Error 列的错误信息
- 常见错误:
  - "缺少时间信息" - 日历事件需要指定时间
  - "无法连接 Google Calendar" - 检查 MCP Server
  - "Notion 权限错误" - 检查 Integration 权限

---

## 快捷模板

在 Notion 中创建模板，快速输入常用指令：

### 日常站会
```
明天早上9点30分钟站会
```

### 周报
```
生成本周工作总结
```

### 午餐约会
```
明天中午12点午餐约会
```

---

**最后更新**: 2025-11-27
